<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameGate - Popular Games</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ============================================
         HEADER & NAVIGATION
         ============================================ -->
    <header class="header">
        <div class="header-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="images/logo.png" class="logo-icon" alt="GameGate Logo">
                <span class="logo-text">GameGate</span>
            </div>
            
            <nav class="nav-menu">
                <a href="#home" class="nav-link active" data-section="home">Home</a>
                <a href="#shop" class="nav-link" data-section="shop">Shop</a>
                <a href="#news" class="nav-link" data-section="news">News</a>
            </nav>

<div class="header-right">
    <!-- Auth buttons will be dynamically inserted here -->
</div>
    </header>

    <!-- ============================================
         HERO CAROUSEL / PROMO SLIDER
         ============================================ -->
    <section class="hero" id="home">
        <div class="carousel-container">
            <div id="promoCarouselTrack" class="carousel-track">
                <!-- Promos will be dynamically loaded here as carousel slides -->
            </div>

            <button class="carousel-btn prev" onclick="changeHeroSlide(-1)">â®</button>
            <button class="carousel-btn next" onclick="changeHeroSlide(1)">â¯</button>

            <div class="carousel-indicators" id="heroIndicators">
                <!-- Indicators will be dynamically generated -->
            </div>
        </div>
    </section>

    <!-- ============================================
         MAIN CONTENT AREA WITH SIDEBAR
         ============================================ -->
    <div class="main-content-wrapper">
        <!-- Left Sidebar - Categories -->
        <aside class="sidebar-categories">
            <h2>Browse by Category</h2>
            <div class="categories-list">
                <div class="category-card" onclick="filterByCategory('all')">
                    <span class="category-icon">âš”ï¸</span>
                    <p>All Games</p>
                </div>
                <div class="category-card" onclick="filterByCategory('MOBA')">
                    <span class="category-icon">ğŸ®</span>
                    <p>MOBA</p>
                </div>
                <div class="category-card" onclick="filterByCategory('RPG')">
                    <span class="category-icon">ğŸ‰</span>
                    <p>RPG</p>
                </div>
                <div class="category-card" onclick="filterByCategory('FPS')">
                    <span class="category-icon">ğŸ”«</span>
                    <p>FPS</p>
                </div>
                <div class="category-card" onclick="filterByCategory('Casual')">
                    <span class="category-icon">ğŸ‘¤</span>
                    <p>Casual</p>   
                </div>
                <div class="category-card" onclick="filterByCategory('Battle Royale')">
                    <span class="category-icon">ğŸ’¥</span>
                    <p>Battle Royale</p>   
                </div>
                <div class="category-card" onclick="filterByCategory('MMORPG')">
                    <span class="category-icon">ğŸ›¡ï¸</span>
                    <p>MMORPG</p>   
                </div>
                <div class="category-card" onclick="filterByCategory('Strategies')">
                    <span class="category-icon">ğŸ°</span>
                    <p>Strategies </p>   
                </div>
                
            </div>
        </aside>

        <!-- Right Content Area -->
        <div class="main-content">
            <!-- ============================================
                 SEARCH BAR
                 ============================================ -->
            <section class="search-section">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-bar" 
                        placeholder="ğŸ” Search games..."
                        onkeyup="searchGames()"
                    >
                </div>
            </section>

            <!-- ============================================
                 MAIN SHOP AREA
                 ============================================ -->
            <section class="shop-section" id="shop">
                <h2>ğŸ’° Popular Now</h2>
                <div id="gamesList" class="games-grid">
                    <!-- Games will be dynamically loaded here -->
                </div>
                <div id="noGamesMessage" class="no-games-message" style="display: none;">
                    <p>No games found. Try adjusting your search or filters.</p>
                </div>
            </section>
        </div>
    </div>

    <!-- ============================================
         NEWS / UPDATES SECTION
         ============================================ -->
    <section class="news-section" id="news">
        <h2>ğŸ“° What's New</h2>
        <div id="newsList" class="news-grid">
            <!-- News will be dynamically loaded here -->
        </div>
    </section>

    <!-- ============================================
         FOOTER
         ============================================ -->
    <footer class="footer">
        <p>&copy; 2025 GameGate. All rights reserved. | Premium In-Game Currency Provider</p>
    </footer>

    <!-- ============================================
         PURCHASE MODAL
         ============================================ -->
    <div id="purchaseModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>Purchase Confirmation</h2>
            <div id="modalGameInfo"></div>
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeModal()">Cancel</button>
                <button class="btn-confirm" onclick="completePurchase()">Confirm Purchase</button>
            </div>
        </div>
    </div>

    <!-- ============================================
         LOGIN MODAL (New!)
         ============================================ -->
    <div id="loginModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close-modal" onclick="closeAuthModal()">&times;</span>
            
            <!-- Tab Switcher -->
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
            </div>

            <!-- Login Form in Modal -->
            <div id="loginFormContainer" class="auth-form-container active">
                <h2 class="auth-modal-title">Welcome Back! ğŸ‘‹</h2>
                <p class="auth-modal-subtitle">Login to access your account</p>
                
                <form id="loginFormModal" class="auth-form">
                    <div class="form-group">
                        <label>ğŸ“§ Email Address</label>
                        <input type="email" id="loginEmailModal" class="form-input" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>ğŸ”’ Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="loginPasswordModal" class="form-input" placeholder="Enter password" required>
                            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('loginPasswordModal')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMeModal">
                            <span>Remember me</span>
                        </label>
                    </div>
                    <button type="submit" class="btn-auth-primary">ğŸš€ Login Now</button>
                    <div id="loginErrorModal" class="error-message"></div>
                </form>
            </div>

            <!-- Sign Up Form in Modal -->
            <div id="signupFormContainer" class="auth-form-container">
                <h2 class="auth-modal-title">Join GameGate! ğŸ‰</h2>
                <p class="auth-modal-subtitle">Create your account and start shopping</p>
                
                <form id="signupFormModal" class="auth-form">
                    <div class="form-group">
                        <label>ğŸ‘¤ Username</label>
                        <input type="text" id="signupUsernameModal" class="form-input" placeholder="Choose username" required minlength="3">
                        <small class="form-hint">At least 3 characters</small>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“§ Email Address</label>
                        <input type="email" id="signupEmailModal" class="form-input" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>ğŸ”’ Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="signupPasswordModal" class="form-input" placeholder="Create password" required minlength="6">
                            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('signupPasswordModal')">ğŸ‘ï¸</button>
                        </div>
                        <small class="form-hint">At least 6 characters</small>
                    </div>
                    <div class="form-group">
                        <label>ğŸ”‘ Confirm Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="signupConfirmPasswordModal" class="form-input" placeholder="Re-enter password" required minlength="6">
                            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('signupConfirmPasswordModal')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTermsModal" required>
                            <span>I agree to Terms & Conditions</span>
                        </label>
                    </div>
                    <button type="submit" class="btn-auth-primary">ğŸ® Create Account</button>
                    <div id="signupErrorModal" class="error-message"></div>
                    <div id="signupSuccessModal" class="success-message"></div>
                </form>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="script.js"></script>
</body>
</html>

<div id="profileDropdown" class="profile-dropdown">
    <div class="dropdown-header">
        <div class="dropdown-avatar" id="dropdownAvatar">
            <!-- User initial will be displayed here -->
        </div>
        <div class="dropdown-user-info">
            <div class="dropdown-username" id="dropdownUsername">Loading...</div>
            <div class="dropdown-email" id="dropdownEmail">Loading...</div>
        </div>
    </div>
    
    <div class="dropdown-divider"></div>
    
    <div class="dropdown-menu-items">
        <a href="profile.html" class="dropdown-item">
            <span class="dropdown-icon">ğŸ‘¤</span>
            <span class="dropdown-text">See All Information</span>
        </a>
        
        <a href="profile.html#transactions" class="dropdown-item">
            <span class="dropdown-icon">ğŸ›’</span>
            <span class="dropdown-text">Transaction History</span>
        </a>
        
        <a href="#settings" class="dropdown-item" onclick="showComingSoon(event)">
            <span class="dropdown-icon">âš™ï¸</span>
            <span class="dropdown-text">Account Settings</span>
        </a>
        
        <a href="#help" class="dropdown-item" onclick="showComingSoon(event)">
            <span class="dropdown-icon">â“</span>
            <span class="dropdown-text">Help & Support</span>
        </a>
    </div>
    
    <div class="dropdown-divider"></div>
    
    <button class="dropdown-item dropdown-logout" onclick="logoutFromDropdown()">
        <span class="dropdown-icon">ğŸšª</span>
        <span class="dropdown-text">Logout</span>
    </button>
</div>

<!-- PURCHASE-FLOW-MODAL -->

<div id="purchaseFlowModal" class="purchase-flow-modal">
    <div class="purchase-flow-container">
        <div class="purchase-flow-content">
            <span class="close-purchase-flow" onclick="closePurchaseFlow()">&times;</span>

            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step-indicator-progress" id="stepProgress"></div>
                <div class="step active" data-step="1">
                    <div class="step-circle">1</div>
                    <div class="step-label">Select Package</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-circle">2</div>
                    <div class="step-label">Enter Details</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-circle">3</div>
                    <div class="step-label">Review Order</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-circle">4</div>
                    <div class="step-label">Complete</div>
                </div>
            </div>

            <!-- Step 1: Select Package -->
            <div id="step1" class="flow-section active">
                <div class="flow-header">
                    <h2 class="flow-title">ğŸ’ Select Package</h2>
                    <p class="flow-subtitle">Choose the perfect package for your gaming needs</p>
                </div>

                <div class="selected-game-banner" id="selectedGameBanner">
                    <!-- Game info will be dynamically inserted -->
                </div>

                <div class="packages-grid" id="packagesGrid">
                    <!-- Packages will be dynamically loaded -->
                </div>

                <div class="flow-navigation">
                    <button class="btn-flow btn-flow-back" onclick="closePurchaseFlow()">
                        â† Cancel
                    </button>
                    <button class="btn-flow btn-flow-next" id="step1Next" onclick="goToStep(2)" disabled>
                        Continue â†’
                    </button>
                </div>
            </div>

            <!-- Step 2: Enter Details -->
            <div id="step2" class="flow-section">
                <div class="flow-header">
                    <h2 class="flow-title">ğŸ“ Enter Details</h2>
                    <p class="flow-subtitle">Provide your game information</p>
                </div>

                <div class="selected-game-banner" id="selectedGameBanner2">
                    <!-- Game info will be shown here too -->
                </div>

                <form class="checkout-form" id="checkoutForm">
                    <!-- Account Information -->
                    <div class="form-section">
                        <h3 class="form-section-title">ğŸ‘¤ Account Information</h3>
                        <div class="input-group">
                            <label class="input-label">
                                User ID / Player ID <span class="required">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="userId" 
                                class="form-input" 
                                placeholder="Enter your User ID"
                                required
                            >
                            <small class="form-hint">Find this in your game profile settings</small>
                        </div>

                        <div class="form-row">
                            <div class="input-group">
                                <label class="input-label">Server / Region (Optional)</label>
                                <select id="serverRegion" class="form-input">
                                    <option value="">Select Server</option>
                                    <option value="NA">North America</option>
                                    <option value="EU">Europe</option>
                                    <option value="ASIA">Asia</option>
                                    <option value="SEA">Southeast Asia</option>
                                    <option value="SA">South America</option>
                                    <option value="OCE">Oceania</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="form-section">
                        <h3 class="form-section-title">ğŸ’³ Payment Method</h3>
                        <div class="payment-methods" id="paymentMethods">
                            <div class="payment-method" onclick="selectPayment('gcash')">
                                <div class="payment-icon">ğŸ“±</div>
                                <div class="payment-name">GCash</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment('paypal')">
                                <div class="payment-icon">ğŸ’™</div>
                                <div class="payment-name">PayPal</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment('card')">
                                <div class="payment-icon">ğŸ’³</div>
                                <div class="payment-name">Credit Card</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment('bank')">
                                <div class="payment-icon">ğŸ¦</div>
                                <div class="payment-name">Bank Transfer</div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Email -->
                    <div class="form-section">
                        <h3 class="form-section-title">âœ‰ï¸ Contact Information</h3>
                        <div class="input-group">
                            <label class="input-label">
                                Email Address <span class="required">*</span>
                            </label>
                            <input 
                                type="email" 
                                id="contactEmail" 
                                class="form-input" 
                                placeholder="your@email.com"
                                required
                            >
                            <small class="form-hint">We'll send your order confirmation here</small>
                        </div>
                    </div>
                </form>

                <div class="flow-navigation">
                    <button class="btn-flow btn-flow-back" onclick="goToStep(1)">
                        â† Back
                    </button>
                    <button class="btn-flow btn-flow-next" id="step2Next" onclick="goToStep(3)">
                        Review Order â†’
                    </button>
                </div>
            </div>

            <!-- Step 3: Order Summary -->
            <div id="step3" class="flow-section">
                <div class="flow-header">
                    <h2 class="flow-title">ğŸ“‹ Order Summary</h2>
                    <p class="flow-subtitle">Please review your order details</p>
                </div>

                <div class="summary-card">
                    <div class="summary-row">
                        <span class="summary-label">ğŸ® Game</span>
                        <span class="summary-value" id="summaryGame">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ğŸ’ Package</span>
                        <span class="summary-value" id="summaryPackage">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ğŸ‘¤ User ID</span>
                        <span class="summary-value" id="summaryUserId">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ğŸŒ Server</span>
                        <span class="summary-value" id="summaryServer">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ğŸ’³ Payment Method</span>
                        <span class="summary-value" id="summaryPayment">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">âœ‰ï¸ Email</span>
                        <span class="summary-value" id="summaryEmail">-</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span class="summary-label">Total Amount</span>
                        <span class="summary-value" id="summaryTotal">$0.00</span>
                    </div>
                </div>

                <div class="flow-navigation">
                    <button class="btn-flow btn-flow-back" onclick="goToStep(2)">
                        â† Edit Details
                    </button>
                    <button class="btn-flow btn-flow-next" onclick="placeOrder()">
                        ğŸ‰ Place Order
                    </button>
                </div>
            </div>

            <!-- Step 4: Success -->
            <div id="step4" class="flow-section">
                <div class="success-content">
                    <div class="success-icon">âœ…</div>
                    <h2 class="success-title">ğŸ‰ Order Successful!</h2>
                    <p class="success-message">Thank you for your purchase! Your order has been processed.</p>

                    <div class="order-reference">
                        <div class="order-reference-label">Order Reference Number</div>
                        <div class="order-reference-number" id="orderNumber">-</div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-row">
                            <span class="summary-label">ğŸ® Game</span>
                            <span class="summary-value" id="finalGame">-</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">ğŸ’ Package</span>
                            <span class="summary-value" id="finalPackage">-</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">ğŸ‘¤ User ID</span>
                            <span class="summary-value" id="finalUserId">-</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">ğŸ’³ Payment Method</span>
                            <span class="summary-value" id="finalPayment">-</span>
                        </div>
                        <div class="summary-row summary-total">
                            <span class="summary-label">Amount Paid</span>
                            <span class="summary-value" id="finalTotal">â‚±0.00</span>
                        </div>
                    </div>

                    <p style="color: var(--text-secondary); margin: var(--spacing-xl) 0; font-size: 14px;">
                        âœ… A confirmation email has been sent to your email address.<br>
                        Your in-game currency will be credited within 5-10 minutes.
                    </p>

                    <div class="flow-navigation" style="justify-content: center;">
                        <button class="btn-flow btn-flow-home" onclick="closePurchaseFlow()">
                            ğŸ  Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>